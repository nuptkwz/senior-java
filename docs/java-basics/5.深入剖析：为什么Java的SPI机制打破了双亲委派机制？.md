[toc]

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ä½ ä»¬çš„æŠ€æœ¯è€å‹**ç§‘å¨èˆŸ**ï¼Œä»Šå¤©æˆ‘ä»¬è¦èŠä¸€ä¸ªJavaä¸–ç•Œä¸­çœ‹ä¼¼çŸ›ç›¾å´åˆç†çš„è¯é¢˜â€”â€”**SPIæœºåˆ¶æ˜¯å¦‚ä½•æ‰“ç ´åŒäº²å§”æ´¾æœºåˆ¶çš„**ã€‚å¾ˆå¤šäººå¬è¯´è¿‡è¿™ä¸¤ä¸ªæ¦‚å¿µï¼Œä½†çœŸæ­£ç†è§£å®ƒä»¬ä¹‹é—´â€œçˆ±æ¨æƒ…ä»‡â€çš„å¹¶ä¸å¤šã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬å¼€å§‹è¿™åœºæŠ€æœ¯è§£å¯†ä¹‹æ—…ï¼


> å½“Javaçš„ç±»åŠ è½½è§„åˆ™é‡ä¸Šç°å®éœ€æ±‚ï¼Œçœ‹SPIå¦‚ä½•å·§å¦™â€œç»•é“è€Œè¡Œâ€

## ä¸€ã€å›å¿†åŒäº²å§”æ´¾ï¼šJavaçš„â€œè§„çŸ©å°‘å¹´â€

åœ¨æ·±å…¥SPIä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå¿«é€Ÿå›é¡¾ä¸€ä¸‹åŒäº²å§”æ´¾æœºåˆ¶ï¼ˆParent Delegation Modelï¼‰ã€‚

**åŒäº²å§”æ´¾å°±åƒæ˜¯å…¬å¸çš„å±‚çº§å®¡æ‰¹æµç¨‹**ï¼š

1. ä½ æƒ³ä¹°æ–°æ–‡å…·ï¼ˆåŠ è½½ç±»ï¼‰ï¼Œå…ˆå‘ç›´æ¥ä¸»ç®¡ï¼ˆApplication ClassLoaderï¼‰ç”³è¯·
2. ä¸»ç®¡å‘éƒ¨é—¨ç»ç†ï¼ˆExtension ClassLoaderï¼‰æ±‡æŠ¥
3. éƒ¨é—¨ç»ç†å‘è´¢åŠ¡æ€»ç›‘ï¼ˆBootstrap ClassLoaderï¼‰è¯·ç¤º
4. å¦‚æœç”³è¯·åˆç†ï¼Œè´¢åŠ¡æ€»ç›‘ç›´æ¥æ‰¹å‡†ï¼›å¦‚æœéœ€è¦ç‰¹æ®Šå¤„ç†ï¼Œæ‰é€çº§ä¸‹æ”¾

åœ¨ä»£ç å±‚é¢ï¼Œè¿™ä¸ªæœºåˆ¶ä½“ç°åœ¨ClassLoaderçš„loadClassæ–¹æ³•ä¸­ï¼š

```java
protected Class<?> loadClass(String name, boolean resolve) {
    // 1. æ£€æŸ¥æ˜¯å¦å·²åŠ è½½
    Class<?> c = findLoadedClass(name);
    if (c == null) {
        // 2. å…ˆå§”æ‰˜ç»™çˆ¶åŠ è½½å™¨
        if (parent != null) {
            c = parent.loadClass(name, false);
        } else {
            c = findBootstrapClassOrNull(name);
        }
        // 3. çˆ¶åŠ è½½å™¨æ— æ³•åŠ è½½æ—¶æ‰è‡ªå·±åŠ è½½
        if (c == null) {
            c = findClass(name);
        }
    }
    return c;
}
```

**åŒäº²å§”æ´¾çš„ä¸‰å¤§ä¼˜ç‚¹**ï¼š
- âœ… **å®‰å…¨é˜²æŠ¤**ï¼šé˜²æ­¢æ ¸å¿ƒAPIè¢«ç¯¡æ”¹ï¼ˆæ¯”å¦‚ä½ è‡ªå·±å†™ä¸ªjava.lang.Stringä¹Ÿæ²¡ç”¨ï¼‰
- âœ… **é¿å…é‡å¤**ï¼šåŒä¸€ä¸ªç±»ä¸ä¼šè¢«åŠ è½½å¤šæ¬¡
- âœ… **ç»“æ„æ¸…æ™°**ï¼šå±‚çº§åˆ†æ˜ï¼Œå„å¸å…¶èŒ

ä½†æ­£æ˜¯è¿™ç§ä¸¥æ ¼çš„å±‚çº§åˆ¶åº¦ï¼Œåœ¨æŸäº›åœºæ™¯ä¸‹æˆäº†â€œç»Šè„šçŸ³â€ã€‚

## äºŒã€SPIæœºåˆ¶ï¼šé‚£ä¸ªâ€œæ‰“ç ´è§„åˆ™â€çš„åˆ›æ–°è€…

### ä»€ä¹ˆæ˜¯SPIï¼Ÿ

SPIï¼ˆService Provider Interfaceï¼‰æ˜¯Javaæä¾›çš„ä¸€ç§æœåŠ¡å‘ç°æœºåˆ¶ã€‚**å®ƒå°±åƒæ˜¯å…¬å¸é‡Œçš„â€œç‰¹æ®Šé‡‡è´­é€šé“â€**â€”â€”å½“æ ‡å‡†æµç¨‹æ— æ³•æ»¡è¶³éœ€æ±‚æ—¶ï¼Œæä¾›ä¸€ç§ç»•è¿‡å¸¸è§„å±‚çº§çš„æ–¹æ³•ã€‚

SPIçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š**é¢å‘æ¥å£ç¼–ç¨‹ + ç­–ç•¥æ¨¡å¼ + é…ç½®æ–‡ä»¶**ï¼Œå®ç°åŠ¨æ€åŠ è½½æœåŠ¡å®ç°ç±»ã€‚

### SPIçš„åŸºæœ¬ä½¿ç”¨ç¤ºä¾‹

```java
// 1. å®šä¹‰æ¥å£
public interface DatabaseDriver {
    Connection connect(String url, Properties info);
}

// 2. åˆ›å»ºå®ç°ç±»ï¼ˆMySQLã€PostgreSQLç­‰å‚å•†æä¾›ï¼‰
public class MySQLDriver implements DatabaseDriver {
    // å…·ä½“å®ç°
}

// 3. åœ¨META-INF/services/ç›®å½•ä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶
// æ–‡ä»¶å†…å®¹ï¼šcom.mysql.cj.jdbc.Driver

// 4. ä½¿ç”¨SPIåŠ è½½æœåŠ¡
ServiceLoader<DatabaseDriver> drivers = ServiceLoader.load(DatabaseDriver.class);
for (DatabaseDriver driver : drivers) {
    // ä½¿ç”¨é©±åŠ¨
    driver.connect(url, info);
}
```

## ä¸‰ã€çŸ›ç›¾çˆ†å‘ï¼šå½“SPIé‡ä¸ŠåŒäº²å§”æ´¾

ç°åœ¨æ¥åˆ°æ ¸å¿ƒé—®é¢˜ï¼š**ä¸ºä»€ä¹ˆSPIéœ€è¦æ‰“ç ´åŒäº²å§”æ´¾ï¼Ÿ**

### ç»å…¸çš„JDBCå›°å¢ƒ

æƒ³è±¡ä¸€ä¸‹è¿™ä¸ªåœºæ™¯ï¼š

1. **java.sql.DriverManager**ï¼ˆJDBCæ ¸å¿ƒç±»ï¼‰ç”±Bootstrap ClassLoaderåŠ è½½
2. **com.mysql.cj.jdbc.Driver**ï¼ˆMySQLé©±åŠ¨ï¼‰åœ¨classpathä¸‹ï¼Œåº”ç”±Application ClassLoaderåŠ è½½
3. æŒ‰ç…§åŒäº²å§”æ´¾è§„åˆ™ï¼šçˆ¶åŠ è½½å™¨ï¼ˆBootstrapï¼‰æ— æ³•"çœ‹åˆ°"å­åŠ è½½å™¨ï¼ˆApplicationï¼‰åŠ è½½çš„ç±»

**è¿™å°±äº§ç”Ÿäº†æ­»å¾ªç¯**ï¼š
- DriverManageréœ€è¦åŠ è½½æ•°æ®åº“é©±åŠ¨å®ç°
- ä½†é©±åŠ¨å®ç°ä¸åœ¨Bootstrap ClassLoaderçš„åŠ è½½èŒƒå›´å†…
- æŒ‰ç…§åŒäº²å§”æ´¾ï¼Œæ°¸è¿œæ— æ³•åŠ è½½åˆ°é©±åŠ¨å®ç°

```java
// é—®é¢˜ä»£ç ç¤ºä¾‹ï¼šåœ¨DriverManagerä¸­
public class DriverManager {
    static {
        loadInitialDrivers(); // éœ€è¦åŠ è½½é©±åŠ¨å®ç°
        println("JDBC DriverManager initialized");
    }
    
    // ä½†DriverManagerç”±BootstrapåŠ è½½ï¼Œå®ƒçœ‹ä¸åˆ°Application ClassLoaderçš„ç±»
}
```

## å››ã€SPIçš„ç ´è§£ä¹‹é“ï¼šçº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨

SPIæœºåˆ¶é€šè¿‡**çº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨ï¼ˆThread Context ClassLoaderï¼‰** å·§å¦™è§£å†³äº†è¿™ä¸ªå›°å¢ƒã€‚

### ç ´è§£åŸç†åˆ†æ

**è¿™å°±åƒæ˜¯å…¬å¸é‡Œçš„"ç‰¹æ®Šæˆæƒæœºåˆ¶"**ï¼š
1. é«˜å±‚é¢†å¯¼ï¼ˆBootstrap ClassLoaderï¼‰éœ€è¦å¤„ç†ç‰¹å®šäº‹åŠ¡
2. ä½†è¯¥äº‹åŠ¡éœ€è¦åŸºå±‚å‘˜å·¥ï¼ˆApplication ClassLoaderï¼‰çš„ä¸“ä¸šçŸ¥è¯†
3. äºæ˜¯é€šè¿‡"ç‰¹åˆ«æˆæƒä¹¦"ï¼ˆçº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨ï¼‰ï¼Œè®©é«˜å±‚å¯ä»¥ä¸´æ—¶è°ƒç”¨åŸºå±‚èµ„æº

å…·ä½“å®ç°ä½“ç°åœ¨ServiceLoaderçš„loadæ–¹æ³•ä¸­ï¼š

```java
public static <S> ServiceLoader<S> load(Class<S> service) {
    // å…³é”®ç‚¹ï¼šè·å–çº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨ï¼Œè€Œä¸æ˜¯ä½¿ç”¨å½“å‰ç±»çš„ç±»åŠ è½½å™¨
    ClassLoader cl = Thread.currentThread().getContextClassLoader();
    return new ServiceLoader<>(service, cl);
}
```

### å®Œæ•´çš„ç ´è§£æµç¨‹

è®©æˆ‘ä»¬é€šè¿‡JDBCé©±åŠ¨åŠ è½½çš„å®Œæ•´æµç¨‹ï¼Œçœ‹çœ‹SPIå¦‚ä½•ä¸€æ­¥æ­¥æ‰“ç ´åŒäº²å§”æ´¾ï¼š

```java
// 1. DriverManagerçš„é™æ€åˆå§‹åŒ–å—è§¦å‘
static {
    loadInitialDrivers();
}

// 2. åœ¨loadInitialDrivers()æ–¹æ³•ä¸­
private static void loadInitialDrivers() {
    // ä½¿ç”¨ServiceLoaderåŠ è½½é©±åŠ¨
    ServiceLoader<Driver> loadedDrivers = ServiceLoader.load(Driver.class);
    Iterator<Driver> driversIterator = loadedDrivers.iterator();
    
    // 3. è¿­ä»£æ—¶å®é™…è§¦å‘é©±åŠ¨åŠ è½½
    while(driversIterator.hasNext()) {
        driversIterator.next(); // è¿™é‡Œè§¦å‘å®é™…åŠ è½½ï¼
    }
}

// 4. ServiceLoaderçš„è¿­ä»£å™¨å®ç°ä¸­
private S nextService() {
    String cn = nextName;
    // å…³é”®ï¼šä½¿ç”¨çº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨ï¼Œè€Œä¸æ˜¯ServiceLoaderè‡ªèº«çš„ç±»åŠ è½½å™¨
    Class<?> c = Class.forName(cn, false, loader);
    // ... å®ä¾‹åŒ–é©±åŠ¨
}
```

**è¿™ä¸ªè¿‡ç¨‹çš„ç²¾å¦™ä¹‹å¤„åœ¨äº**ï¼š
- ServiceLoaderæœ¬èº«ç”±Bootstrap ClassLoaderåŠ è½½
- ä½†å®ƒåœ¨è¿è¡Œæ—¶è·å–**å½“å‰çº¿ç¨‹çš„ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨**ï¼ˆé€šå¸¸æ˜¯Application ClassLoaderï¼‰
- ä½¿ç”¨è¿™ä¸ª"å€Ÿæ¥"çš„ç±»åŠ è½½å™¨å»åŠ è½½é©±åŠ¨å®ç°ç±»
- æˆåŠŸç»•è¿‡äº†åŒäº²å§”æ´¾çš„é™åˆ¶ï¼

## äº”ã€å®æˆ˜åœºæ™¯ï¼šSPIæ‰“ç ´åŒäº²å§”æ´¾çš„å¤šé¢åº”ç”¨

### åœºæ™¯1ï¼šJDBCæ•°æ®åº“é©±åŠ¨ï¼ˆæœ€ç»å…¸æ¡ˆä¾‹ï¼‰

**é—®é¢˜**ï¼šJavaæ ¸å¿ƒåº“éœ€è¦åŠ è½½å„å‚å•†çš„æ•°æ®åº“é©±åŠ¨ï¼Œä½†é©±åŠ¨åœ¨classpathä¸‹ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
```java
// ç°ä»£JDBCä¸å†éœ€è¦Class.forName()æ‰‹åŠ¨åŠ è½½é©±åŠ¨
// å› ä¸ºSPIæœºåˆ¶è‡ªåŠ¨å¤„ç†äº†é©±åŠ¨åŠ è½½
Connection conn = DriverManager.getConnection("jdbc:mysql://localhost:3306/test", user, password);
```

### åœºæ™¯2ï¼šTomcatçš„ç±»åŠ è½½æ¶æ„

**é—®é¢˜**ï¼šTomcatéœ€è¦æ”¯æŒå¤šä¸ªWebåº”ç”¨éš”ç¦»è¿è¡Œï¼Œæ¯ä¸ªåº”ç”¨å¯èƒ½æœ‰ç›¸åŒç±»çš„ä¸åŒç‰ˆæœ¬ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼šTomcatä¸ºæ¯ä¸ªWebåº”ç”¨åˆ›å»ºç‹¬ç«‹çš„WebappClassLoaderï¼Œå¹¶**é‡å†™loadClassæ–¹æ³•**ï¼Œæ”¹å˜åŒäº²å§”æ´¾é¡ºåºï¼š

```java
// ç®€åŒ–çš„Tomcatç±»åŠ è½½é€»è¾‘
public class WebappClassLoader extends URLClassLoader {
    @Override
    public Class<?> loadClass(String name, boolean resolve) {
        // 1. å…ˆæ£€æŸ¥æœ¬åœ°å·²åŠ è½½çš„ç±»
        Class<?> c = findLoadedClass(name);
        if (c == null) {
            // 2. å¯¹äºWebåº”ç”¨ç±»ï¼Œå…ˆå°è¯•è‡ªå·±åŠ è½½ï¼ˆæ‰“ç ´åŒäº²å§”æ´¾ï¼ï¼‰
            if (isWebAppClass(name)) {
                try {
                    c = findClass(name);
                } catch (ClassNotFoundException e) {
                    // å¿½ç•¥ï¼Œç»§ç»­å§”æ‰˜
                }
            }
            // 3. è‡ªå·±åŠ è½½å¤±è´¥ï¼Œå†å§”æ‰˜ç»™çˆ¶åŠ è½½å™¨
            if (c == null) {
                c = super.loadClass(name, false);
            }
        }
        return c;
    }
}
```

### åœºæ™¯3ï¼šDataXæ’ä»¶çƒ­æ’æ‹”æœºåˆ¶

**é—®é¢˜**ï¼šDataXéœ€è¦åŠ¨æ€åŠ è½½å„ç§æ•°æ®æºæ’ä»¶ï¼Œä¸”é¿å…æ’ä»¶é—´çš„jaråŒ…å†²çªã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨è‡ªå®šä¹‰ç±»åŠ è½½å™¨å’Œ**ç±»åŠ è½½å™¨åˆ‡æ¢æŠ€æœ¯**ï¼š

```java
public class ClassLoaderSwapper {
    private ClassLoader storeClassLoader;
    
    // ä¿å­˜å½“å‰ç±»åŠ è½½å™¨ï¼Œå¹¶åˆ‡æ¢åˆ°æ–°çš„ç±»åŠ è½½å™¨
    public ClassLoader setCurrentThreadClassLoader(ClassLoader classLoader) {
        this.storeClassLoader = Thread.currentThread().getContextClassLoader();
        Thread.currentThread().setContextClassLoader(classLoader);
        return this.storeClassLoader;
    }
    
    // æ¢å¤åŸæ¥çš„ç±»åŠ è½½å™¨
    public ClassLoader restoreCurrentThreadClassLoader() {
        ClassLoader classLoader = Thread.currentThread().getContextClassLoader();
        Thread.currentThread().setContextClassLoader(this.storeClassLoader);
        return classLoader;
    }
}
```

### åœºæ™¯4ï¼šOSGiæ¨¡å—åŒ–æ¡†æ¶

**é—®é¢˜**ï¼šOSGiéœ€è¦æ”¯æŒæ¨¡å—çº§çš„çƒ­éƒ¨ç½²å’ŒåŠ¨æ€å¸è½½ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼šå®ç°**ç½‘çŠ¶ç±»åŠ è½½æ¨¡å‹**ï¼Œå®Œå…¨çªç ´åŒäº²å§”æ´¾çš„æ ‘çŠ¶ç»“æ„ï¼š

- æ¯ä¸ªBundleæœ‰ç‹¬ç«‹çš„ç±»åŠ è½½å™¨
- åŠ è½½ç±»æ—¶å…ˆæ£€æŸ¥å½“å‰Bundleç¼“å­˜
- ç„¶åæ ¹æ®Import-Packageå§”æ‰˜ç»™å¯¼å‡ºè¯¥åŒ…çš„Bundle
- æœ€åæ‰å§”æ‰˜ç»™çˆ¶ç±»åŠ è½½å™¨

## å…­ã€è‡ªå·±åŠ¨æ‰‹ï¼šå®ç°æ‰“ç ´åŒäº²å§”æ´¾çš„ç±»åŠ è½½å™¨

å¦‚æœæˆ‘ä»¬æƒ³è‡ªå·±å®ç°ä¸€ä¸ªæ‰“ç ´åŒäº²å§”æ´¾çš„ç±»åŠ è½½å™¨ï¼Œè¯¥æ€ä¹ˆåšï¼Ÿ

```java
public class CustomClassLoader extends ClassLoader {
    private String classPath;
    
    public CustomClassLoader(String classPath) {
        this.classPath = classPath;
    }
    
    @Override
    public Class<?> loadClass(String name, boolean resolve) throws ClassNotFoundException {
        synchronized (getClassLoadingLock(name)) {
            // 1. æ£€æŸ¥æ˜¯å¦å·²åŠ è½½
            Class<?> c = findLoadedClass(name);
            if (c == null) {
                // 2. å¯¹äºç‰¹å®šåŒ…ä¸‹çš„ç±»ï¼Œä¼˜å…ˆè‡ªå·±åŠ è½½ï¼ˆæ‰“ç ´åŒäº²å§”æ´¾ï¼ï¼‰
                if (name.startsWith("com.example.myapp")) {
                    try {
                        c = findClass(name);
                    } catch (ClassNotFoundException e) {
                        // è‡ªå·±åŠ è½½å¤±è´¥ï¼Œå†å§”æ‰˜çˆ¶ç±»
                        c = super.loadClass(name, false);
                    }
                } else {
                    // 3. å…¶ä»–ç±»è¿˜æ˜¯èµ°åŒäº²å§”æ´¾
                    c = super.loadClass(name, false);
                }
            }
            return c;
        }
    }
    
    @Override
    protected Class<?> findClass(String name) throws ClassNotFoundException {
        // è‡ªå®šä¹‰ç±»åŠ è½½é€»è¾‘ï¼ˆä»æ–‡ä»¶ç³»ç»Ÿã€ç½‘ç»œç­‰åŠ è½½ï¼‰
        byte[] classBytes = loadClassData(name);
        return defineClass(name, classBytes, 0, classBytes.length);
    }
}
```

## ä¸ƒã€æ€»ç»“ï¼šè§„åˆ™ä¸å˜é€šçš„å¹³è¡¡è‰ºæœ¯

é€šè¿‡ä¸Šé¢çš„åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼š

### SPIæ‰“ç ´åŒäº²å§”æ´¾çš„æœ¬è´¨

**ä¸æ˜¯ç²—æš´åœ°ç ´åï¼Œè€Œæ˜¯å·§å¦™åœ°ç»•è¡Œ**ã€‚å®ƒé€šè¿‡çº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨è¿™ä¸ª"ä¸­é—´äºº"ï¼Œåœ¨ä¸æ”¹å˜åŒäº²å§”æ´¾æ•´ä½“ç»“æ„çš„å‰æä¸‹ï¼Œè§£å†³äº†å®é™…éœ€æ±‚ä¸æ¶æ„é™åˆ¶ä¹‹é—´çš„çŸ›ç›¾ã€‚

### ä½•æ—¶è¯¥æ‰“ç ´è§„åˆ™ï¼Ÿ

1. **çˆ¶åŠ è½½å™¨éœ€è¦è®¿é—®å­åŠ è½½å™¨çš„èµ„æº**ï¼ˆå¦‚JDBCé©±åŠ¨åŠ è½½ï¼‰
2. **éœ€è¦å®ç°æ¨¡å—éš”ç¦»å’Œçƒ­éƒ¨ç½²**ï¼ˆå¦‚Tomcatã€OSGiï¼‰
3. **éœ€è¦åŠ¨æ€åŠ è½½å’Œå¸è½½ç±»**ï¼ˆå¦‚æ’ä»¶åŒ–ç³»ç»Ÿï¼‰

### æ‰“ç ´åŒäº²å§”æ´¾çš„ä»£ä»·

è™½ç„¶æ‰“ç ´åŒäº²å§”æ´¾è§£å†³äº†ç‰¹å®šé—®é¢˜ï¼Œä½†ä¹Ÿå¸¦æ¥äº†å¤æ‚æ€§ï¼š

- ğŸš§ **ç±»å†²çªé£é™©**ï¼šç›¸åŒç±»å¯èƒ½è¢«ä¸åŒåŠ è½½å™¨åŠ è½½ï¼Œå¯¼è‡´ClassCastException
- ğŸš§ **å†…å­˜æ³„æ¼é£é™©**ï¼šç±»åŠ è½½å™¨æ— æ³•è¢«GCå›æ”¶ï¼Œå¦‚æœè®¾è®¡ä¸å½“
- ğŸš§ **è°ƒè¯•å›°éš¾**ï¼šç±»åŠ è½½è·¯å¾„å˜å¾—å¤æ‚ï¼Œé—®é¢˜æ’æŸ¥éš¾åº¦å¢åŠ 

### æœ€ä½³å®è·µå»ºè®®

1. **ä¼˜å…ˆéµå¾ªåŒäº²å§”æ´¾**ï¼šåœ¨å¤§å¤šæ•°åœºæ™¯ä¸‹ï¼Œå®ƒä»ç„¶æ˜¯ä¿è¯Javaç¨‹åºç¨³å®šæ€§çš„åŸºçŸ³
2. **è°¨æ…æ‰“ç ´è§„åˆ™**ï¼šåªåœ¨ç¡®æœ‰å……åˆ†ç†ç”±æ—¶æ‰è€ƒè™‘æ‰“ç ´åŒäº²å§”æ´¾
3. **æ˜ç¡®è¾¹ç•Œ**ï¼šè®¾è®¡æ¸…æ™°çš„ç±»åŠ è½½å™¨éš”ç¦»ç­–ç•¥
4. **åŠæ—¶æ¸…ç†**ï¼šç¡®ä¿ç±»åŠ è½½å™¨èƒ½å¤Ÿè¢«æ­£ç¡®å›æ”¶ï¼Œé¿å…å†…å­˜æ³„æ¼

Javaçš„SPIæœºåˆ¶å‘Šè¯‰æˆ‘ä»¬ï¼š**å¥½çš„æ¶æ„éœ€è¦åœ¨è§„åˆ™ä¸å˜é€šä¹‹é—´æ‰¾åˆ°å¹³è¡¡ç‚¹**ã€‚åŒäº²å§”æ´¾æä¾›äº†å®‰å…¨ç¨³å®šçš„åŸºç¡€ï¼Œè€ŒSPIç­‰æœºåˆ¶åˆ™åœ¨ç‰¹å®šåœºæ™¯ä¸‹æä¾›äº†å¿…è¦çš„çµæ´»æ€§ã€‚

å¸Œæœ›è¿™ç¯‡æ–‡ç« å¸®åŠ©ä½ æ·±å…¥ç†è§£äº†SPIæ‰“ç ´åŒäº²å§”æ´¾çš„åŸç†å’Œå®è·µã€‚å¦‚æœæœ‰ä»»ä½•ç–‘é—®æˆ–æƒ³æ³•ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµè®¨è®ºï¼

## å‚è€ƒæ–‡ç« 

1. ã€CSDNã€‘åŒäº²å§”æ´¾æ¨¡å‹ï¼Œå¦‚ä½•æ‰“ç ´å®ƒ
2. ã€51CTOã€‘java spi å¦‚ä½•æ‰“ç ´åŒäº²æ¨¡å‹
3. ã€CSDNã€‘èŠèŠJavaSPI
4. ã€51CTOã€‘java ä¸ºä»€ä¹ˆè¦æ‰“ç ´åŒäº²å§”æ´¾æ¨¡å‹ jdbcæ‰“ç ´åŒäº²å§”æ´¾æœºåˆ¶
5. ã€åšå®¢å›­ã€‘SPIæœºåˆ¶æ˜¯å¦‚ä½•è§„é¿åŒäº²å§”æ´¾æœºåˆ¶çš„ï¼Ÿ
6. ã€51CTOã€‘java spi å¦‚ä½•æ‰“ç ´åŒäº²æ¨¡å‹ spiæ‰“ç ´åŒäº²å§”æ´¾æœºåˆ¶
7. ã€CSDNã€‘SPI : ServiceLoaderå¦‚ä½•æ‰“ç ´åŒäº²å§”æ´¾

* æœ¬æ–‡ä¸»è¦è§‚ç‚¹åŸºäºä»¥ä¸Šå‚è€ƒèµ„æ–™ï¼Œç»“åˆå®é™…å¼€å‘ç»éªŒæ•´ç†è€Œæˆã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚*

---
æ›´å¤šæŠ€æœ¯å¹²è´§æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·**ç§‘å¨èˆŸçš„AIç¬”è®°**~

![](https://files.mdnice.com/user/101007/5b1be244-b402-456b-bafb-63490ab66749.jpg)

ã€è½¬è½½é¡»çŸ¥ã€‘ï¼š**è½¬è½½è¯·æ³¨æ˜åŸæ–‡å‡ºå¤„åŠä½œè€…ä¿¡æ¯**